(function(){define(["underscore"],function(n){var r;return new(r=function(){function r(){}r.prototype.balance=function(r){var t,e,u,i,o,a;i=function(){var n,e,u;u=[];for(n=0,e=r.length;n<e;n++){t=r[n];u.push(t.matrix.length)}return u}();u=n.max(i);for(o=0,a=r.length;o<a;o++){t=r[o];while(t.matrix.length<u){t.matrix.push(function(){var n,r,u;u=[];for(e=n=1,r=t.x_size;1<=r?n<=r:n>=r;e=1<=r?++n:--n){u.push(0)}return u}())}}return r};return r}())})}).call(this);