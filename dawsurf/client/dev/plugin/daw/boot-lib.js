(function(){var t=function(t,i){return function(){return t.apply(i,arguments)}};define(["jquery","curl","curl/_privileged","lib/sys/log","plugin/model/setting/theme"],function(i,n,e,o,l){var r;return new(r=function(){function r(){this._ok=t(this._ok,this);this._load_theme=t(this._load_theme,this);this.init=t(this.init,this)}r.prototype.init=function(){window.jQuery=window.$=i;_.templateSettings={interpolate:/\{(.+?)\}/g};return n(["plugin/lib/datatype.extension/string","plugin/lib.3p.extension/jquery"]).next(["js!plugin/lib.3p/antiscroll","js!plugin/lib.3p/jQuery-ZenCoding","css!plugin/lib.3p/antiscroll"]).next(["css!plugin/lib.3p.extension/antiscroll"]).then(this._load_theme,this._fail)};r.prototype.kill=function(){var t;t="/theme/"+l.value();i("link[href$='"+t+".css']").remove();return delete e.cache["curl/plugin/css!plugin"+t]};r.prototype.on_init=function(){};r.prototype._fail=function(t){o.add("plugin.lib.boot FAIL!");throw t};r.prototype._load_theme=function(){return n(["css!plugin/theme/"+l.value()]).then(this._ok,this._fail)};r.prototype._ok=function(){o.add("plugin.lib.boot OK");i.noConflict(true);return this.on_init()};return r}())})}).call(this);