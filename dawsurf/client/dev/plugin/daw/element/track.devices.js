(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};define(["jquery","./box"],function(e,i){var n;return new(n=function(){function e(){this.get_volume=t(this.get_volume,this);this.remove=t(this.remove,this);this.add=t(this.add,this)}e.prototype.on_init=function(){};e.prototype.on_kill=function(){};e.prototype.add=function(t){if(this._is_sole_device(t)){return this.on_init(this._get_track(t))}};e.prototype.remove=function(t){if(this._is_sole_device(t)){return this.on_kill(this._get_track(t))}};e.prototype.get_volume=function(t){return i.get_volume(this._get_visible(t))};e.prototype._get_track=function(t){return t.$device.parents(".track")};e.prototype._is_sole_device=function(t){return t.$device.siblings(".device").length===0};e.prototype._get_visible=function(t){return t.find(".device:not(.hidden)")};return e}())})}).call(this);