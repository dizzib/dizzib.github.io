(function(){var t=function(t,n){return function(){return t.apply(n,arguments)}};define(["underscore","model/servers"],function(n,e){var i;return new(i=function(){function i(){this.ready=t(this.ready,this);this.deactivate=t(this.deactivate,this);this.activate=t(this.activate,this);this.init=t(this.init,this)}i.prototype.on_alert=function(){};i.prototype.on_activate=function(){};i.prototype.on_deactivate=function(){};i.prototype.on_init=function(){};i.prototype.on_load=function(){};i.prototype.on_preactivate=function(){};i.prototype.on_ready=function(){};i.prototype.init=function(){var t;e.load();this.on_load();t=n.find(e.servers(),function(t){return t.id()===e.auto_connect_id()});if(t!=null){return this.activate(t)}else{return this.on_init()}};i.prototype.activate=function(t){this.on_preactivate({message:"Connecting to "+t.id()+"..."});return this.on_activate({server:t.server(),port:t.port()})};i.prototype.deactivate=function(t){this.on_alert(t);return this.on_deactivate(t)};i.prototype.ready=function(t){return this.on_ready()};return i}())})}).call(this);