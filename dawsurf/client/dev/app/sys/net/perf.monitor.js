(function(){var t=function(t,i){return function(){return t.apply(i,arguments)}};define(function(){var i;return new(i=function(){function i(){this._unblock=t(this._unblock,this);this._block=t(this._block,this);this._start=t(this._start,this);this.packet_in=t(this.packet_in,this);this.packet_out=t(this.packet_out,this)}i.prototype._SAMPLE_FREQ_HZ=1;i.prototype.on_measure=function(){};i.prototype.packet_out=function(){if(this._start_time!=null||this._is_block){return}this._start();return this._block()};i.prototype.packet_in=function(){var t;if(this._start_time==null){return}t=(new Date).getTime();this.on_measure("Net latency "+(t-this._start_time)+"ms");return this._start_time=void 0};i.prototype._start=function(){return this._start_time=(new Date).getTime()};i.prototype._block=function(){this._is_block=true;return setTimeout(this._unblock,1e3/this._SAMPLE_FREQ_HZ)};i.prototype._unblock=function(){return this._is_block=false};return i}())})}).call(this);