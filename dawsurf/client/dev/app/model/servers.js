(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};define(["knockout","knockout.mapping","lib/platform/features"],function(e,r,o){var n,s;n=function(){function t(t,r,o){if(t==null){t=""}if(r==null){r=""}if(o==null){o="8080"}this.id=e.observable(t);this.server=e.observable(r);this.port=e.observable(o)}return t}();return new(s=function(){function s(){this.save=t(this.save,this);this.load=t(this.load,this);this.remove=t(this.remove,this);this.add=t(this.add,this)}s.prototype._store_key="model.servers";s.prototype.servers=e.observableArray([]);s.prototype.auto_connect_id=e.observable(null);s.prototype.create=function(t,e,r){return new n(t,e,r)};s.prototype.add=function(t){return this.servers.push(t)};s.prototype.remove=function(t){return this.servers.remove(t)};s.prototype.load=function(){var t,e,n,s,i,u;if(!o.localstorage){return}if((e=localStorage[this._store_key])==null){return}t=r.fromJSON(e);this.servers.remove(function(){return true});u=t.servers();for(s=0,i=u.length;s<i;s++){n=u[s];this.servers.push(n)}return this.auto_connect_id(t.auto_connect_id())};s.prototype.save=function(){if(!o.localstorage){return}return localStorage[this._store_key]=r.toJSON(this)};return s}())})}).call(this);