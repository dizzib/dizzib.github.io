(function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};define(["underscore","lib/platform/features"],function(t,i){var r;return new(r=function(){function r(){this.get_runability_of_all_features=e(this.get_runability_of_all_features,this);this.get_runability_by_feature=e(this.get_runability_by_feature,this);this.is_feature_needed=e(this.is_feature_needed,this)}r.prototype._features=[{id:"localstorage",is_needed:false,display_name:"Local Storage"},{id:"touch",is_needed:false,display_name:"Touch"},{id:"websockets",is_needed:true,display_name:"Web Sockets"}];r.prototype._feature_runabilities=[{is_present:false,is_needed:false,runability:1},{is_present:false,is_needed:true,runability:0},{is_present:true,is_needed:false,runability:2},{is_present:true,is_needed:true,runability:2}];r.prototype.is_feature_needed=function(e){return t.find(this._features,function(t){return t.id===e}).is_needed};r.prototype.is_feature_present=function(e){return i[e]};r.prototype.get_runability_by_feature=function(e){var i=this;return t.find(this._feature_runabilities,function(t){return t.is_present===i.is_feature_present(e)&&t.is_needed===i.is_feature_needed(e)}).runability};r.prototype.get_runability_of_all_features=function(){var e;return t.min(function(){var i,r,n,s;n=t.pluck(this._features,"id");s=[];for(i=0,r=n.length;i<r;i++){e=n[i];s.push(this.get_runability_by_feature(e))}return s}.call(this))};return r}())})}).call(this);