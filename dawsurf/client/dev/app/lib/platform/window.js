(function(){var t=function(t,i){return function(){return t.apply(i,arguments)}};define(["jquery","underscore","lib/platform/document","lib/platform/window.zoom-sensor.strategy/constants","lib/platform/window.zoom-sensor.strategy/aspect-ratio","lib/platform/window.zoom-sensor.strategy/reference-div"],function(i,o,e,n,r,s){var _;return new(_=function(){function _(){this._refresh_cache=t(this._refresh_cache,this);this._resize_or_zoom=t(this._resize_or_zoom,this);this._init=t(this._init,this);this.get_aspect_ratio=t(this.get_aspect_ratio,this);this.init=t(this.init,this)}_.prototype._THROTTLE_FREQ_HZ=2;_.prototype.init=function(){var t=this;this._refresh_cache();this._zoom_sensor=e.height_raw()!=null?s:r;this._zoom_sensor.init(this);i(window).on("resize",function(){return o.throttle(t._resize_or_zoom(),1e3/t._THROTTLE_FREQ_HZ,false)});return i(window).on("onorientationchange",function(){return i(window).trigger("resize")})};_.prototype.on_resize=function(){};_.prototype.on_zoom=function(){};_.prototype.get_aspect_ratio=function(){return this.width/this.height};_.prototype.reload=function(){return window.location.href=window.location.href};_.prototype._init=function(){this._event_map={};this._event_map[n.Directions.NONE]={fn:this.on_resize,args:{window:this}};this._event_map[n.Directions.IN]={fn:this.on_zoom,args:{window:this,is_zoom_out:false}};return this._event_map[n.Directions.OUT]={fn:this.on_zoom,args:{window:this,is_zoom_out:true}}};_.prototype._resize_or_zoom=function(){var t;if(!(this._event_map!=null)){this._init()}this._refresh_cache();return(t=this._event_map[this._zoom_sensor.get_direction()]).fn(t.args)};_.prototype._refresh_cache=function(){this.height=window.innerHeight;return this.width=window.innerWidth};return _}())})}).call(this);