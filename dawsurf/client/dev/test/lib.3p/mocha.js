(function(){function t(e){var n=t.resolve(e),r=t.modules[n];if(!r)throw new Error('failed to require "'+e+'"');if(!r.exports){r.exports={};r.call(r.exports,r,r.exports,t.relative(n))}return r.exports}t.modules={};t.resolve=function(e){var n=e,r=e+".js",s=e+"/index.js";return t.modules[r]&&r||t.modules[s]&&s||n};t.register=function(e,n){t.modules[e]=n};t.relative=function(e){return function(n){if("."!=n.charAt(0))return t(n);var r=e.split("/"),s=n.split("/");r.pop();for(var i=0;i<s.length;i++){var o=s[i];if(".."==o)r.pop();else if("."!=o)r.push(o)}return t(r.join("/"))}};t.register("browser/debug.js",function(t,e,n){t.exports=function(t){return function(){}}});t.register("browser/diff.js",function(t,e,n){});t.register("browser/events.js",function(t,e,n){e.EventEmitter=s;function r(t){return"[object Array]"=={}.toString.call(t)}function s(){}s.prototype.on=function(t,e){if(!this.$events){this.$events={}}if(!this.$events[t]){this.$events[t]=e}else if(r(this.$events[t])){this.$events[t].push(e)}else{this.$events[t]=[this.$events[t],e]}return this};s.prototype.addListener=s.prototype.on;s.prototype.once=function(t,e){var n=this;function r(){n.removeListener(t,r);e.apply(this,arguments)}r.listener=e;this.on(t,r);return this};s.prototype.removeListener=function(t,e){if(this.$events&&this.$events[t]){var n=this.$events[t];if(r(n)){var s=-1;for(var i=0,o=n.length;i<o;i++){if(n[i]===e||n[i].listener&&n[i].listener===e){s=i;break}}if(s<0){return this}n.splice(s,1);if(!n.length){delete this.$events[t]}}else if(n===e||n.listener&&n.listener===e){delete this.$events[t]}}return this};s.prototype.removeAllListeners=function(t){if(t===undefined){this.$events={};return this}if(this.$events&&this.$events[t]){this.$events[t]=null}return this};s.prototype.listeners=function(t){if(!this.$events){this.$events={}}if(!this.$events[t]){this.$events[t]=[]}if(!r(this.$events[t])){this.$events[t]=[this.$events[t]]}return this.$events[t]};s.prototype.emit=function(t){if(!this.$events){return false}var e=this.$events[t];if(!e){return false}var n=[].slice.call(arguments,1);if("function"==typeof e){e.apply(this,n)}else if(r(e)){var s=e.slice();for(var i=0,o=s.length;i<o;i++){s[i].apply(this,n)}}else{return false}return true}});t.register("browser/fs.js",function(t,e,n){});t.register("browser/path.js",function(t,e,n){});t.register("browser/progress.js",function(t,e,n){t.exports=r;function r(){this.percent=0;this.size(0);this.fontSize(11);this.font("helvetica, arial, sans-serif")}r.prototype.size=function(t){this._size=t;return this};r.prototype.text=function(t){this._text=t;return this};r.prototype.fontSize=function(t){this._fontSize=t;return this};r.prototype.font=function(t){this._font=t;return this};r.prototype.update=function(t){this.percent=t;return this};r.prototype.draw=function(t){var e=Math.min(this.percent,100),n=this._size,r=n/2,s=r,i=r,o=r-1,a=this._fontSize;t.font=a+"px "+this._font;var u=Math.PI*2*(e/100);t.clearRect(0,0,n,n);t.strokeStyle="#9f9f9f";t.beginPath();t.arc(s,i,o,0,u,false);t.stroke();t.strokeStyle="#eee";t.beginPath();t.arc(s,i,o-1,0,u,true);t.stroke();var l=this._text||(e|0)+"%",c=t.measureText(l).width;t.fillText(l,s-c/2+1,i+a/2-1);return this}});t.register("browser/tty.js",function(t,e,n){e.isatty=function(){return true};e.getWindowSize=function(){return[window.innerHeight,window.innerWidth]}});t.register("context.js",function(t,e,n){t.exports=r;function r(){}r.prototype.runnable=function(t){if(0==arguments.length)return this._runnable;this.test=this._runnable=t;return this};r.prototype.timeout=function(t){this.runnable().timeout(t);return this};r.prototype.slow=function(t){this.runnable().slow(t);return this};r.prototype.inspect=function(){return JSON.stringify(this,function(t,e){if("_runnable"==t)return;if("test"==t)return;return e},2)}});t.register("hook.js",function(t,e,n){var r=n("./runnable");t.exports=s;function s(t,e){r.call(this,t,e);this.type="hook"}s.prototype=new r;s.prototype.constructor=s;s.prototype.error=function(t){if(0==arguments.length){var t=this._error;this._error=null;return t}this._error=t}});t.register("interfaces/bdd.js",function(t,e,n){var r=n("../suite"),s=n("../test");t.exports=function(t){var e=[t];t.on("pre-require",function(t,n,i){t.before=function(t){e[0].beforeAll(t)};t.after=function(t){e[0].afterAll(t)};t.beforeEach=function(t){e[0].beforeEach(t)};t.afterEach=function(t){e[0].afterEach(t)};t.describe=t.context=function(t,n){var s=r.create(e[0],t);e.unshift(s);n.call(s);e.shift();return s};t.xdescribe=t.xcontext=t.describe.skip=function(t,n){var s=r.create(e[0],t);s.pending=true;e.unshift(s);n.call(s);e.shift()};t.describe.only=function(e,n){var r=t.describe(e,n);i.grep(r.fullTitle())};t.it=t.specify=function(t,n){var r=e[0];if(r.pending)var n=null;var i=new s(t,n);r.addTest(i);return i};t.it.only=function(e,n){var r=t.it(e,n);i.grep(r.fullTitle())};t.xit=t.xspecify=t.it.skip=function(e){t.it(e)}})}});t.register("interfaces/exports.js",function(t,e,n){var r=n("../suite"),s=n("../test");t.exports=function(t){var e=[t];t.on("require",n);function n(t){var i;for(var o in t){if("function"==typeof t[o]){var a=t[o];switch(o){case"before":e[0].beforeAll(a);break;case"after":e[0].afterAll(a);break;case"beforeEach":e[0].beforeEach(a);break;case"afterEach":e[0].afterEach(a);break;default:e[0].addTest(new s(o,a))}}else{var i=r.create(e[0],o);e.unshift(i);n(t[o]);e.shift()}}}}});t.register("interfaces/index.js",function(t,e,n){e.bdd=n("./bdd");e.tdd=n("./tdd");e.qunit=n("./qunit");e.exports=n("./exports")});t.register("interfaces/qunit.js",function(t,e,n){var r=n("../suite"),s=n("../test");t.exports=function(t){var e=[t];t.on("pre-require",function(t){t.before=function(t){e[0].beforeAll(t)};t.after=function(t){e[0].afterAll(t)};t.beforeEach=function(t){e[0].beforeEach(t)};t.afterEach=function(t){e[0].afterEach(t)};t.suite=function(t){if(e.length>1)e.shift();var n=r.create(e[0],t);e.unshift(n)};t.test=function(t,n){e[0].addTest(new s(t,n))}})}});t.register("interfaces/tdd.js",function(t,e,n){var r=n("../suite"),s=n("../test");t.exports=function(t){var e=[t];t.on("pre-require",function(t,n,i){t.setup=function(t){e[0].beforeEach(t)};t.teardown=function(t){e[0].afterEach(t)};t.suiteSetup=function(t){e[0].beforeAll(t)};t.suiteTeardown=function(t){e[0].afterAll(t)};t.suite=function(t,n){var s=r.create(e[0],t);e.unshift(s);n.call(s);e.shift();return s};t.suite.only=function(e,n){var r=t.suite(e,n);i.grep(r.fullTitle())};t.test=function(t,n){var r=new s(t,n);e[0].addTest(r);return r};t.test.only=function(e,n){var r=t.test(e,n);i.grep(r.fullTitle())};t.test.skip=function(e){t.test(e)}})}});t.register("mocha.js",function(t,e,n){var r=n("browser/path"),s=n("./utils");e=t.exports=o;e.utils=s;e.interfaces=n("./interfaces");e.reporters=n("./reporters");e.Runnable=n("./runnable");e.Context=n("./context");e.Runner=n("./runner");e.Suite=n("./suite");e.Hook=n("./hook");e.Test=n("./test");function i(t){return __dirname+"/../images/"+t+".png"}function o(t){t=t||{};this.files=[];this.options=t;this.grep(t.grep);this.suite=new e.Suite("",new e.Context);this.ui(t.ui);this.reporter(t.reporter);if(t.timeout)this.timeout(t.timeout);if(t.slow)this.slow(t.slow)}o.prototype.addFile=function(t){this.files.push(t);return this};o.prototype.reporter=function(t){if("function"==typeof t){this._reporter=t}else{t=t||"dot";try{this._reporter=n("./reporters/"+t)}catch(e){this._reporter=n(t)}if(!this._reporter)throw new Error('invalid reporter "'+t+'"')}return this};o.prototype.ui=function(t){t=t||"bdd";this._ui=e.interfaces[t];if(!this._ui)throw new Error('invalid interface "'+t+'"');this._ui=this._ui(this.suite);return this};o.prototype.loadFiles=function(t){var e=this;var s=this.suite;var i=this.files.length;this.files.forEach(function(o){o=r.resolve(o);s.emit("pre-require",global,o,e);s.emit("require",n(o),o,e);s.emit("post-require",global,o,e);--i||t&&t()})};o.prototype._growl=function(t,e){var r=n("growl");t.on("end",function(){var n=e.stats;if(n.failures){var s=n.failures+" of "+t.total+" tests failed";r(s,{name:"mocha",title:"Failed",image:i("error")})}else{r(n.passes+" tests passed in "+n.duration+"ms",{name:"mocha",title:"Passed",image:i("ok")})}})};o.prototype.grep=function(t){this.options.grep="string"==typeof t?new RegExp(s.escapeRegexp(t)):t;return this};o.prototype.invert=function(){this.options.invert=true;return this};o.prototype.ignoreLeaks=function(){this.options.ignoreLeaks=true;return this};o.prototype.checkLeaks=function(){this.options.ignoreLeaks=false;return this};o.prototype.growl=function(){this.options.growl=true;return this};o.prototype.globals=function(t){this.options.globals=(this.options.globals||[]).concat(t);return this};o.prototype.timeout=function(t){this.suite.timeout(t);return this};o.prototype.slow=function(t){this.suite.slow(t);return this};o.prototype.asyncOnly=function(){this.options.asyncOnly=true;return this};o.prototype.run=function(t){if(this.files.length)this.loadFiles();var n=this.suite;var r=this.options;var s=new e.Runner(n);var i=new this._reporter(s);s.ignoreLeaks=r.ignoreLeaks;s.asyncOnly=r.asyncOnly;if(r.grep)s.grep(r.grep,r.invert);if(r.globals)s.globals(r.globals);if(r.growl)this._growl(s,i);return s.run(t)}});t.register("ms.js",function(t,e,n){var r=1e3;var s=r*60;var i=s*60;var o=i*24;t.exports=function(t){if("string"==typeof t)return a(t);return u(t)};function a(t){var e=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(t);if(!e)return;var n=parseFloat(e[1]);var r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"y":return n*315576e5;case"days":case"day":case"d":return n*864e5;case"hours":case"hour":case"h":return n*36e5;case"minutes":case"minute":case"m":return n*6e4;case"seconds":case"second":case"s":return n*1e3;case"ms":return n}}function u(t){if(t==o)return Math.round(t/o)+" day";if(t>o)return Math.round(t/o)+" days";if(t==i)return Math.round(t/i)+" hour";if(t>i)return Math.round(t/i)+" hours";if(t==s)return Math.round(t/s)+" minute";if(t>s)return Math.round(t/s)+" minutes";if(t==r)return Math.round(t/r)+" second";if(t>r)return Math.round(t/r)+" seconds";return t+" ms"}});t.register("reporters/base.js",function(t,e,n){var r=n("browser/tty"),s=n("browser/diff"),i=n("../ms");var o=global.Date,a=global.setTimeout,u=global.setInterval,l=global.clearTimeout,c=global.clearInterval;var f=r.isatty(1)&&r.isatty(2);e=t.exports=h;e.useColors=f;e.colors={pass:90,fail:31,"bright pass":92,"bright fail":91,"bright yellow":93,pending:36,suite:0,"error title":0,"error message":31,"error stack":90,checkmark:32,fast:90,medium:33,slow:31,green:32,light:90,"diff gutter":90,"diff added":42,"diff removed":41};e.symbols={ok:"✓",err:"✖",dot:"․"};if("win32"==process.platform){e.symbols.ok="√";e.symbols.err="×";e.symbols.dot="."}var p=e.color=function(t,n){if(!e.useColors)return n;return"["+e.colors[t]+"m"+n+"[0m"};e.window={width:f?process.stdout.getWindowSize?process.stdout.getWindowSize(1)[0]:r.getWindowSize()[1]:75};e.cursor={hide:function(){process.stdout.write("[?25l")},show:function(){process.stdout.write("[?25h")},deleteLine:function(){process.stdout.write("[2K")},beginningOfLine:function(){process.stdout.write("[0G")},CR:function(){e.cursor.deleteLine();e.cursor.beginningOfLine()}};e.list=function(t){console.error();t.forEach(function(t,e){var n=p("error title","  %s) %s:\n")+p("error message","     %s")+p("error stack","\n%s\n");var r=t.err,s=r.message||"",i=r.stack||s,o=i.indexOf(s)+s.length,a=i.slice(0,o),u=r.actual,l=r.expected,c=true;if(r.showDiff){c=false;r.actual=u=JSON.stringify(u,null,2);r.expected=l=JSON.stringify(l,null,2)}if("string"==typeof u&&"string"==typeof l){var f=Math.max(u.length,l.length);if(f<20)a=g(r,"Chars",c);else a=g(r,"Words",c);var h=a.split("\n");if(h.length>4){var m=String(h.length).length;a=h.map(function(t,e){return d(++e,m)+" |"+" "+t}).join("\n")}a="\n"+p("diff removed","actual")+" "+p("diff added","expected")+"\n\n"+a+"\n";a=a.replace(/^/gm,"      ");n=p("error title","  %s) %s:\n%s")+p("error stack","\n%s\n")}i=i.slice(o?o+1:o).replace(/^/gm,"  ");console.error(n,e+1,t.fullTitle(),a,i)})};function h(t){var e=this,n=this.stats={suites:0,tests:0,passes:0,pending:0,failures:0},r=this.failures=[];if(!t)return;this.runner=t;t.stats=n;t.on("start",function(){n.start=new o});t.on("suite",function(t){n.suites=n.suites||0;t.root||n.suites++});t.on("test end",function(t){n.tests=n.tests||0;n.tests++});t.on("pass",function(t){n.passes=n.passes||0;var e=t.slow()/2;t.speed=t.duration>t.slow()?"slow":t.duration>e?"medium":"fast";n.passes++});t.on("fail",function(t,e){n.failures=n.failures||0;n.failures++;t.err=e;r.push(t)});t.on("end",function(){n.end=new o;n.duration=new o-n.start});t.on("pending",function(){n.pending++})}h.prototype.epilogue=function(){var t=this.stats,n,r;console.log();function s(t){return 1==t?"test":"tests"}if(t.failures){n=p("bright fail","  "+e.symbols.err)+p("fail"," %d of %d %s failed")+p("light",":");console.error(n,t.failures,this.runner.total,s(this.runner.total));h.list(this.failures);console.error();return}n=p("bright pass"," ")+p("green"," %d %s complete")+p("light"," (%s)");console.log(n,t.tests||0,s(t.tests),i(t.duration));if(t.pending){n=p("pending"," ")+p("pending"," %d %s pending");console.log(n,t.pending,s(t.pending))}console.log()};function d(t,e){t=String(t);return Array(e-t.length+1).join(" ")+t}function g(t,e,n){return s["diff"+e](t.actual,t.expected).map(function(t){if(n){t.value=t.value.replace(/\t/g,"<tab>").replace(/\r/g,"<CR>").replace(/\n/g,"<LF>\n")}if(t.added)return m("diff added",t.value);if(t.removed)return m("diff removed",t.value);return t.value}).join("")}function m(t,e){return e.split("\n").map(function(e){return p(t,e)}).join("\n")}});t.register("reporters/doc.js",function(t,e,n){var r=n("./base"),s=n("../utils");e=t.exports=i;function i(t){r.call(this,t);var e=this,n=this.stats,i=t.total,o=2;function a(){return Array(o).join("  ")}t.on("suite",function(t){if(t.root)return;++o;console.log('%s<section class="suite">',a());++o;console.log("%s<h1>%s</h1>",a(),s.escape(t.title));console.log("%s<dl>",a())});t.on("suite end",function(t){if(t.root)return;console.log("%s</dl>",a());--o;console.log("%s</section>",a());--o});t.on("pass",function(t){console.log("%s  <dt>%s</dt>",a(),s.escape(t.title));var e=s.escape(s.clean(t.fn.toString()));console.log("%s  <dd><pre><code>%s</code></pre></dd>",a(),e)})}});t.register("reporters/dot.js",function(t,e,n){var r=n("./base"),s=r.color;e=t.exports=i;function i(t){r.call(this,t);var e=this,n=this.stats,i=r.window.width*.75|0,o=0;t.on("start",function(){process.stdout.write("\n  ")});t.on("pending",function(t){process.stdout.write(s("pending",r.symbols.dot))});t.on("pass",function(t){if(++o%i==0)process.stdout.write("\n  ");if("slow"==t.speed){process.stdout.write(s("bright yellow",r.symbols.dot))}else{process.stdout.write(s(t.speed,r.symbols.dot))}});t.on("fail",function(t,e){if(++o%i==0)process.stdout.write("\n  ");process.stdout.write(s("fail",r.symbols.dot))});t.on("end",function(){console.log();e.epilogue()})}i.prototype=new r;i.prototype.constructor=i});t.register("reporters/html-cov.js",function(t,e,n){var r=n("./json-cov"),s=n("browser/fs");e=t.exports=i;function i(t){var e=n("jade"),i=__dirname+"/templates/coverage.jade",a=s.readFileSync(i,"utf8"),u=e.compile(a,{filename:i}),l=this;r.call(this,t,false);t.on("end",function(){process.stdout.write(u({cov:l.cov,coverageClass:o}))})}function o(t){if(t>=75)return"high";if(t>=50)return"medium";if(t>=25)return"low";return"terrible"}});t.register("reporters/html.js",function(t,e,n){var r=n("./base"),s=n("../utils"),i=n("../browser/progress"),o=s.escape;var a=global.Date,u=global.setTimeout,l=global.setInterval,c=global.clearTimeout,f=global.clearInterval;e=t.exports=h;var p='<ul id="mocha-stats">'+'<li class="progress"><canvas width="40" height="40"></canvas></li>'+'<li class="passes"><a href="#">passes:</a> <em>0</em></li>'+'<li class="failures"><a href="#">failures:</a> <em>0</em></li>'+'<li class="duration">duration: <em>0</em>s</li>'+"</ul>";function h(t,e){r.call(this,t);var n=this,u=this.stats,l=t.total,c=g(p),f=c.getElementsByTagName("li"),h=f[1].getElementsByTagName("em")[0],b=f[1].getElementsByTagName("a")[0],x=f[2].getElementsByTagName("em")[0],k=f[2].getElementsByTagName("a")[0],T=f[3].getElementsByTagName("em")[0],j=c.getElementsByTagName("canvas")[0],E=g('<ul id="mocha-report"></ul>'),_=[E],S,C;e=e||document.getElementById("mocha");if(j.getContext){var O=window.devicePixelRatio||1;j.style.width=j.width;j.style.height=j.height;j.width*=O;j.height*=O;C=j.getContext("2d");C.scale(O,O);S=new i}if(!e)return d("#mocha div missing, add it to your document");y(b,"click",function(){v();var t=/pass/.test(E.className)?"":" pass";E.className=E.className.replace(/fail|pass/g,"")+t;if(E.className.trim())m("test pass")});y(k,"click",function(){v();var t=/fail/.test(E.className)?"":" fail";E.className=E.className.replace(/fail|pass/g,"")+t;if(E.className.trim())m("test fail")});e.appendChild(c);e.appendChild(E);if(S)S.size(40);t.on("suite",function(t){if(t.root)return;var e="?grep="+encodeURIComponent(t.fullTitle());var n=g('<li class="suite"><h1><a href="%s">%s</a></h1></li>',e,o(t.title));_[0].appendChild(n);_.unshift(document.createElement("ul"));n.appendChild(_[0])});t.on("suite end",function(t){if(t.root)return;_.shift()});t.on("fail",function(e,n){if("hook"==e.type)t.emit("test end",e)});t.on("test end",function(t){window.scrollTo(0,document.body.scrollHeight);var e=u.tests/this.total*100|0;if(S)S.update(e).draw(C);var n=new a-u.start;w(h,u.passes);w(x,u.failures);w(T,(n/1e3).toFixed(2));if("passed"==t.state){var r=g('<li class="test pass %e"><h2>%e<span class="duration">%ems</span> <a href="?grep=%e" class="replay">‣</a></h2></li>',t.speed,t.title,t.duration,encodeURIComponent(t.fullTitle()))}else if(t.pending){var r=g('<li class="test pass pending"><h2>%e</h2></li>',t.title)}else{var r=g('<li class="test fail"><h2>%e <a href="?grep=%e" class="replay">‣</a></h2></li>',t.title,encodeURIComponent(t.fullTitle()));var i=t.err.stack||t.err.toString();if(!~i.indexOf(t.err.message)){i=t.err.message+"\n"+i}if("[object Error]"==i)i=t.err.message;if(!t.err.stack&&t.err.sourceURL&&t.err.line!==undefined){i+="\n("+t.err.sourceURL+":"+t.err.line+")"}r.appendChild(g('<pre class="error">%e</pre>',i))}if(!t.pending){var o=r.getElementsByTagName("h2")[0];y(o,"click",function(){l.style.display="none"==l.style.display?"inline-block":"none"});var l=g("<pre><code>%e</code></pre>",s.clean(t.fn.toString()));r.appendChild(l);l.style.display="none"}if(_[0])_[0].appendChild(r)})}function d(t){document.body.appendChild(g('<div id="mocha-error">%s</div>',t))}function g(t){var e=arguments,n=document.createElement("div"),r=1;n.innerHTML=t.replace(/%([se])/g,function(t,n){switch(n){case"s":return String(e[r++]);case"e":return o(e[r++])}});return n.firstChild}function m(t){var e=document.getElementsByClassName("suite");for(var n=0;n<e.length;n++){var r=e[n].getElementsByClassName(t);if(0==r.length)e[n].className+=" hidden"}}function v(){var t=document.getElementsByClassName("suite hidden");for(var e=0;e<t.length;++e){t[e].className=t[e].className.replace("suite hidden","suite")}}function w(t,e){if(t.textContent){t.textContent=e}else{t.innerText=e}}function y(t,e,n){if(t.addEventListener){t.addEventListener(e,n,false)}else{t.attachEvent("on"+e,n)}}});t.register("reporters/index.js",function(t,e,n){e.Base=n("./base");e.Dot=n("./dot");e.Doc=n("./doc");e.TAP=n("./tap");e.JSON=n("./json");e.HTML=n("./html");e.List=n("./list");e.Min=n("./min");e.Spec=n("./spec");e.Nyan=n("./nyan");e.XUnit=n("./xunit");e.Markdown=n("./markdown");e.Progress=n("./progress");e.Landing=n("./landing");e.JSONCov=n("./json-cov");e.HTMLCov=n("./html-cov");e.JSONStream=n("./json-stream");e.Teamcity=n("./teamcity")});t.register("reporters/json-cov.js",function(t,e,n){var r=n("./base");e=t.exports=s;function s(t,e){var n=this,e=1==arguments.length?true:e;r.call(this,t);var s=[],o=[],u=[];t.on("test end",function(t){s.push(t)});t.on("pass",function(t){u.push(t)});t.on("fail",function(t){o.push(t)});t.on("end",function(){var t=global._$jscoverage||{};var r=n.cov=i(t);r.stats=n.stats;r.tests=s.map(a);r.failures=o.map(a);r.passes=u.map(a);if(!e)return;process.stdout.write(JSON.stringify(r,null,2))})}function i(t){var e={instrumentation:"node-jscoverage",sloc:0,hits:0,misses:0,coverage:0,files:[]};for(var n in t){var r=o(n,t[n]);e.files.push(r);e.hits+=r.hits;e.misses+=r.misses;e.sloc+=r.sloc}e.files.sort(function(t,e){return t.filename.localeCompare(e.filename)});if(e.sloc>0){e.coverage=e.hits/e.sloc*100}return e}function o(t,e){var n={filename:t,coverage:0,hits:0,misses:0,sloc:0,source:{}};e.source.forEach(function(t,r){r++;if(e[r]===0){n.misses++;n.sloc++}else if(e[r]!==undefined){n.hits++;n.sloc++}n.source[r]={source:t,coverage:e[r]===undefined?"":e[r]}});n.coverage=n.hits/n.sloc*100;return n}function a(t){return{title:t.title,fullTitle:t.fullTitle(),duration:t.duration}}});t.register("reporters/json-stream.js",function(t,e,n){var r=n("./base"),s=r.color;e=t.exports=i;function i(t){r.call(this,t);var e=this,n=this.stats,s=t.total;t.on("start",function(){console.log(JSON.stringify(["start",{total:s}]))});t.on("pass",function(t){console.log(JSON.stringify(["pass",o(t)]))});t.on("fail",function(t,e){console.log(JSON.stringify(["fail",o(t)]))});t.on("end",function(){process.stdout.write(JSON.stringify(["end",e.stats]))})}function o(t){return{title:t.title,fullTitle:t.fullTitle(),duration:t.duration}}});t.register("reporters/json.js",function(t,e,n){var r=n("./base"),s=r.cursor,i=r.color;e=t.exports=o;function o(t){var e=this;r.call(this,t);var n=[],s=[],i=[];t.on("test end",function(t){n.push(t)});t.on("pass",function(t){i.push(t)});t.on("fail",function(t){s.push(t)});t.on("end",function(){var t={stats:e.stats,tests:n.map(a),failures:s.map(a),passes:i.map(a)};process.stdout.write(JSON.stringify(t,null,2))})}function a(t){return{title:t.title,fullTitle:t.fullTitle(),duration:t.duration}}});t.register("reporters/landing.js",function(t,e,n){var r=n("./base"),s=r.cursor,i=r.color;e=t.exports=o;r.colors.plane=0;r.colors["plane crash"]=31;r.colors.runway=90;function o(t){r.call(this,t);var e=this,n=this.stats,o=r.window.width*.75|0,a=t.total,u=process.stdout,l=i("plane","✈"),c=-1,f=0;function p(){var t=Array(o).join("-");return"  "+i("runway",t)}t.on("start",function(){u.write("\n  ");s.hide()});t.on("test end",function(t){var e=-1==c?o*++f/a|0:c;if("failed"==t.state){l=i("plane crash","✈");c=e}u.write("[4F\n\n");u.write(p());u.write("\n  ");u.write(i("runway",Array(e).join("⋅")));u.write(l);u.write(i("runway",Array(o-e).join("⋅")+"\n"));u.write(p());u.write("[0m")});t.on("end",function(){s.show();console.log();e.epilogue()})}o.prototype=new r;o.prototype.constructor=o});t.register("reporters/list.js",function(t,e,n){var r=n("./base"),s=r.cursor,i=r.color;e=t.exports=o;function o(t){r.call(this,t);var e=this,n=this.stats,o=0;t.on("start",function(){console.log()});t.on("test",function(t){process.stdout.write(i("pass","    "+t.fullTitle()+": "))});t.on("pending",function(t){var e=i("checkmark","  -")+i("pending"," %s");console.log(e,t.fullTitle())});t.on("pass",function(t){var e=i("checkmark","  "+r.symbols.dot)+i("pass"," %s: ")+i(t.speed,"%dms");s.CR();console.log(e,t.fullTitle(),t.duration)});t.on("fail",function(t,e){s.CR();console.log(i("fail","  %d) %s"),++o,t.fullTitle())});t.on("end",e.epilogue.bind(e))}o.prototype=new r;o.prototype.constructor=o});t.register("reporters/markdown.js",function(t,e,n){var r=n("./base"),s=n("../utils");e=t.exports=i;function i(t){r.call(this,t);var e=this,n=this.stats,i=t.total,o=0,a="";function u(t){return Array(o).join("#")+" "+t}function l(){return Array(o).join("  ")}function c(t,e){var n=e;e=e[t.title]=e[t.title]||{suite:t};t.suites.forEach(function(t){c(t,e)});return n}function f(t,e){++e;var n="";var r;for(var i in t){if("suite"==i)continue;if(i)r=" - ["+i+"](#"+s.slug(t[i].suite.fullTitle())+")\n";if(i)n+=Array(e).join("  ")+r;n+=f(t[i],e)}--e;return n}function p(t){var e=c(t,{});return f(e,0)}p(t.suite);t.on("suite",function(t){++o;var e=s.slug(t.fullTitle());a+='<a name="'+e+'"></a>'+"\n";a+=u(t.title)+"\n"});t.on("suite end",function(t){--o});t.on("pass",function(t){var e=s.clean(t.fn.toString());a+=t.title+".\n";a+="\n```js\n";a+=e+"\n";a+="```\n\n"});t.on("end",function(){process.stdout.write("# TOC\n");process.stdout.write(p(t.suite));process.stdout.write(a)})}});t.register("reporters/min.js",function(t,e,n){var r=n("./base");e=t.exports=s;function s(t){r.call(this,t);t.on("start",function(){process.stdout.write("[2J");process.stdout.write("[1;3H")});t.on("end",this.epilogue.bind(this))}s.prototype=new r;s.prototype.constructor=s});t.register("reporters/nyan.js",function(t,e,n){var r=n("./base"),s=r.color;e=t.exports=i;function i(t){r.call(this,t);var e=this,n=this.stats,s=r.window.width*.75|0,i=this.rainbowColors=e.generateColors(),a=this.colorIndex=0,u=this.numberOfLines=4,l=this.trajectories=[[],[],[],[]],c=this.nyanCatWidth=11,f=this.trajectoryWidthMax=s-c,p=this.scoreboardWidth=5,h=this.tick=0,d=0;t.on("start",function(){r.cursor.hide();e.draw("start")});t.on("pending",function(t){e.draw("pending")});t.on("pass",function(t){e.draw("pass")});t.on("fail",function(t,n){e.draw("fail")});t.on("end",function(){r.cursor.show();for(var t=0;t<e.numberOfLines;t++)o("\n");e.epilogue()})}i.prototype.draw=function(t){this.appendRainbow();this.drawScoreboard();this.drawRainbow();this.drawNyanCat(t);this.tick=!this.tick};i.prototype.drawScoreboard=function(){var t=this.stats;var e=r.colors;function n(t,e){o(" ");o("["+t+"m"+e+"[0m");o("\n")}n(e.green,t.passes);n(e.fail,t.failures);n(e.pending,t.pending);o("\n");this.cursorUp(this.numberOfLines)};i.prototype.appendRainbow=function(){var t=this.tick?"_":"-";var e=this.rainbowify(t);for(var n=0;n<this.numberOfLines;n++){var r=this.trajectories[n];if(r.length>=this.trajectoryWidthMax)r.shift();r.push(e)}};i.prototype.drawRainbow=function(){var t=this;this.trajectories.forEach(function(e,n){o("["+t.scoreboardWidth+"C");o(e.join(""));o("\n")});this.cursorUp(this.numberOfLines)};i.prototype.drawNyanCat=function(t){var e=this;var n=this.scoreboardWidth+this.trajectories[0].length;[0,1,2,3].forEach(function(r){o("["+n+"C");switch(r){case 0:o("_,------,");o("\n");break;case 1:var s=e.tick?"  ":"   ";o("_|"+s+"/\\_/\\ ");o("\n");break;case 2:var s=e.tick?"_":"__";var i=e.tick?"~":"^";var a;switch(t){case"pass":a="( ^ .^)";break;case"fail":a="( o .o)";break;default:a="( - .-)"}o(i+"|"+s+a+" ");o("\n");break;case 3:var s=e.tick?" ":"  ";o(s+'""  "" ');o("\n");break}});this.cursorUp(this.numberOfLines)};i.prototype.cursorUp=function(t){o("["+t+"A")};i.prototype.cursorDown=function(t){o("["+t+"B")};i.prototype.generateColors=function(){var t=[];for(var e=0;e<6*7;e++){var n=Math.floor(Math.PI/3);var r=e*(1/6);var s=Math.floor(3*Math.sin(r)+3);var i=Math.floor(3*Math.sin(r+2*n)+3);var o=Math.floor(3*Math.sin(r+4*n)+3);t.push(36*s+6*i+o+16)}return t};i.prototype.rainbowify=function(t){var e=this.rainbowColors[this.colorIndex%this.rainbowColors.length];this.colorIndex+=1;return"[38;5;"+e+"m"+t+"[0m"};function o(t){process.stdout.write(t)}i.prototype=new r;i.prototype.constructor=i});t.register("reporters/progress.js",function(t,e,n){var r=n("./base"),s=r.cursor,i=r.color;e=t.exports=o;r.colors.progress=90;function o(t,e){r.call(this,t);var n=this,e=e||{},o=this.stats,a=r.window.width*.5|0,u=t.total,l=0,c=Math.max;e.open=e.open||"[";e.complete=e.complete||"▬";e.incomplete=e.incomplete||r.symbols.dot;e.close=e.close||"]";e.verbose=false;t.on("start",function(){console.log();s.hide()});t.on("test end",function(){l++;var t=u-l,n=l/u,r=a*n|0,o=a-r;s.CR();process.stdout.write("[J");process.stdout.write(i("progress","  "+e.open));process.stdout.write(Array(r).join(e.complete));process.stdout.write(Array(o).join(e.incomplete));process.stdout.write(i("progress",e.close));if(e.verbose){process.stdout.write(i("progress"," "+l+" of "+u))}});t.on("end",function(){s.show();console.log();n.epilogue()})}o.prototype=new r;o.prototype.constructor=o});t.register("reporters/spec.js",function(t,e,n){var r=n("./base"),s=r.cursor,i=r.color;e=t.exports=o;function o(t){r.call(this,t);var e=this,n=this.stats,o=0,a=0;function u(){return Array(o).join("  ")}t.on("start",function(){console.log()});t.on("suite",function(t){++o;console.log(i("suite","%s%s"),u(),t.title)});t.on("suite end",function(t){--o;if(1==o)console.log()});t.on("test",function(t){process.stdout.write(u()+i("pass","  ◦ "+t.title+": "))});t.on("pending",function(t){var e=u()+i("pending","  - %s");console.log(e,t.title)});t.on("pass",function(t){if("fast"==t.speed){var e=u()+i("checkmark","  "+r.symbols.ok)+i("pass"," %s ");s.CR();console.log(e,t.title)}else{var e=u()+i("checkmark","  "+r.symbols.ok)+i("pass"," %s ")+i(t.speed,"(%dms)");s.CR();console.log(e,t.title,t.duration)}});t.on("fail",function(t,e){s.CR();console.log(u()+i("fail","  %d) %s"),++a,t.title)});t.on("end",e.epilogue.bind(e))}o.prototype=new r;o.prototype.constructor=o});t.register("reporters/tap.js",function(t,e,n){var r=n("./base"),s=r.cursor,i=r.color;e=t.exports=o;function o(t){r.call(this,t);var e=this,n=this.stats,s=1,i=0,o=1;t.on("start",function(){var e=t.grepTotal(t.suite);console.log("%d..%d",1,e)});t.on("test end",function(){++s});t.on("pending",function(t){console.log("ok %d %s # SKIP -",s,a(t))});t.on("pass",function(t){i++;console.log("ok %d %s",s,a(t))});t.on("fail",function(t,e){o++;console.log("not ok %d %s",s,a(t));if(e.stack)console.log(e.stack.replace(/^/gm,"  "))});t.on("end",function(){console.log("# tests "+(i+o));console.log("# pass "+i);console.log("# fail "+o)})}function a(t){return t.fullTitle().replace(/#/g,"")}});t.register("reporters/teamcity.js",function(t,e,n){var r=n("./base");e=t.exports=s;function s(t){r.call(this,t);var e=this.stats;t.on("start",function(){console.log("##teamcity[testSuiteStarted name='mocha.suite']")});t.on("test",function(t){console.log("##teamcity[testStarted name='"+i(t.fullTitle())+"']")});t.on("fail",function(t,e){console.log("##teamcity[testFailed name='"+i(t.fullTitle())+"' message='"+i(e.message)+"']")});t.on("pending",function(t){console.log("##teamcity[testIgnored name='"+i(t.fullTitle())+"' message='pending']")});t.on("test end",function(t){console.log("##teamcity[testFinished name='"+i(t.fullTitle())+"' duration='"+t.duration+"']")});t.on("end",function(){console.log("##teamcity[testSuiteFinished name='mocha.suite' duration='"+e.duration+"']")})}function i(t){return t.replace(/\|/g,"||").replace(/\n/g,"|n").replace(/\r/g,"|r").replace(/\[/g,"|[").replace(/\]/g,"|]").replace(/\u0085/g,"|x").replace(/\u2028/g,"|l").replace(/\u2029/g,"|p").replace(/'/g,"|'")}});t.register("reporters/xunit.js",function(t,e,n){var r=n("./base"),s=n("../utils"),i=s.escape;var o=global.Date,a=global.setTimeout,u=global.setInterval,l=global.clearTimeout,c=global.clearInterval;e=t.exports=f;function f(t){r.call(this,t);var e=this.stats,n=[],s=this;t.on("pass",function(t){n.push(t)});t.on("fail",function(t){n.push(t)});t.on("end",function(){console.log(h("testsuite",{name:"Mocha Tests",tests:e.tests,failures:e.failures,errors:e.failures,skip:e.tests-e.failures-e.passes,timestamp:(new o).toUTCString(),time:e.duration/1e3},false));n.forEach(p);console.log("</testsuite>")})}f.prototype=new r;f.prototype.constructor=f;function p(t){var e={classname:t.parent.fullTitle(),name:t.title,time:t.duration/1e3};if("failed"==t.state){var n=t.err;e.message=i(n.message);console.log(h("testcase",e,false,h("failure",e,false,d(n.stack))))}else if(t.pending){console.log(h("testcase",e,false,h("skipped",{},true)))}else{console.log(h("testcase",e,true))}}function h(t,e,n,r){var s=n?"/>":">",o=[],a;for(var u in e){o.push(u+'="'+i(e[u])+'"')}a="<"+t+(o.length?" "+o.join(" "):"")+s;if(r)a+=r+"</"+t+s;return a}function d(t){return"<![CDATA["+i(t)+"]]>"
}});t.register("runnable.js",function(t,e,n){var r=n("browser/events").EventEmitter,s=n("browser/debug")("mocha:runnable"),i=n("./ms");var o=global.Date,a=global.setTimeout,u=global.setInterval,l=global.clearTimeout,c=global.clearInterval;var f=Object.prototype.toString;t.exports=p;function p(t,e){this.title=t;this.fn=e;this.async=e&&e.length;this.sync=!this.async;this._timeout=2e3;this._slow=75;this.timedOut=false}p.prototype=new r;p.prototype.constructor=p;p.prototype.timeout=function(t){if(0==arguments.length)return this._timeout;if("string"==typeof t)t=i(t);s("timeout %d",t);this._timeout=t;if(this.timer)this.resetTimeout();return this};p.prototype.slow=function(t){if(0===arguments.length)return this._slow;if("string"==typeof t)t=i(t);s("timeout %d",t);this._slow=t;return this};p.prototype.fullTitle=function(){return this.parent.fullTitle()+" "+this.title};p.prototype.clearTimeout=function(){l(this.timer)};p.prototype.inspect=function(){return JSON.stringify(this,function(t,e){if("_"==t[0])return;if("parent"==t)return"#<Suite>";if("ctx"==t)return"#<Context>";return e},2)};p.prototype.resetTimeout=function(){var t=this,e=this.timeout();this.clearTimeout();if(e){this.timer=a(function(){t.callback(new Error("timeout of "+e+"ms exceeded"));t.timedOut=true},e)}};p.prototype.run=function(t){var e=this,n=this.timeout(),r=new o,s=this.ctx,i,u;if(s)s.runnable(this);if(this.async){if(n){this.timer=a(function(){c(new Error("timeout of "+n+"ms exceeded"));e.timedOut=true},n)}}function l(t){if(u)return;u=true;e.emit("error",t||new Error("done() called multiple times"))}function c(n){if(e.timedOut)return;if(i)return l(n);e.clearTimeout();e.duration=new o-r;i=true;t(n)}this.callback=c;if(this.async){try{this.fn.call(s,function(t){if(f.call(t)==="[object Error]")return c(t);if(null!=t)return c(new Error("done() invoked with non-Error: "+t));c()})}catch(p){c(p)}return}if(this.asyncOnly){return c(new Error("--async-only option in use without declaring `done()`"))}try{if(!this.pending)this.fn.call(s);this.duration=new o-r;t()}catch(p){t(p)}}});t.register("runner.js",function(t,e,n){var r=n("browser/events").EventEmitter,s=n("browser/debug")("mocha:runner"),i=n("./test"),o=n("./utils"),a=o.filter,u=o.keys,l=function(){};var c=["setTimeout","clearTimeout","setInterval","clearInterval","XMLHttpRequest","Date"];t.exports=f;function f(t){var e=this;this._globals=[];this.suite=t;this.total=t.total();this.failures=0;this.on("test end",function(t){e.checkGlobals(t)});this.on("hook end",function(t){e.checkGlobals(t)});this.grep(/.*/);this.globals(this.globalProps().concat(["errno"]))}f.prototype=new r;f.prototype.constructor=f;f.prototype.grep=function(t,e){s("grep %s",t);this._grep=t;this._invert=e;this.total=this.grepTotal(this.suite);return this};f.prototype.grepTotal=function(t){var e=this;var n=0;t.eachTest(function(t){var r=e._grep.test(t.fullTitle());if(e._invert)r=!r;if(r)n++});return n};f.prototype.globalProps=function(){var t=o.keys(global);for(var e=0;e<c.length;++e){if(~o.indexOf(t,c[e]))continue;t.push(c[e])}return t};f.prototype.globals=function(t){if(0==arguments.length)return this._globals;s("globals %j",t);o.forEach(t,function(t){this._globals.push(t)},this);return this};f.prototype.checkGlobals=function(t){if(this.ignoreLeaks)return;var e=this._globals;var n=this.globalProps();var r=process.kill;var s;if(r&&1==e.length-n.length)return;else if(2==e.length-n.length)return;s=p(e,n);this._globals=this._globals.concat(s);if(s.length>1){this.fail(t,new Error("global leaks detected: "+s.join(", ")+""))}else if(s.length){this.fail(t,new Error("global leak detected: "+s[0]))}};f.prototype.fail=function(t,e){++this.failures;t.state="failed";if("string"==typeof e){e=new Error('the string "'+e+'" was thrown, throw an Error :)')}this.emit("fail",t,e)};f.prototype.failHook=function(t,e){this.fail(t,e);this.emit("end")};f.prototype.hook=function(t,e){var n=this.suite,r=n["_"+t],s=this,i;function o(t){var n=r[t];if(!n)return e();s.currentRunnable=n;s.emit("hook",n);n.on("error",function(t){s.failHook(n,t)});n.run(function(e){n.removeAllListeners("error");var r=n.error();if(r)s.fail(s.test,r);if(e)return s.failHook(n,e);s.emit("hook end",n);o(++t)})}process.nextTick(function(){o(0)})};f.prototype.hooks=function(t,e,n){var r=this,s=this.suite;function i(o){r.suite=o;if(!o){r.suite=s;return n()}r.hook(t,function(t){if(t){r.suite=s;return n(t)}i(e.pop())})}i(e.pop())};f.prototype.hookUp=function(t,e){var n=[this.suite].concat(this.parents()).reverse();this.hooks(t,n,e)};f.prototype.hookDown=function(t,e){var n=[this.suite].concat(this.parents());this.hooks(t,n,e)};f.prototype.parents=function(){var t=this.suite,e=[];while(t=t.parent)e.push(t);return e};f.prototype.runTest=function(t){var e=this.test,n=this;if(this.asyncOnly)e.asyncOnly=true;try{e.on("error",function(t){n.fail(e,t)});e.run(t)}catch(r){t(r)}};f.prototype.runTests=function(t,e){var n=this,r=t.tests.slice(),s;function i(o){if(n.failures&&t._bail)return e();s=r.shift();if(!s)return e();var a=n._grep.test(s.fullTitle());if(n._invert)a=!a;if(!a)return i();if(s.pending){n.emit("pending",s);n.emit("test end",s);return i()}n.emit("test",n.test=s);n.hookDown("beforeEach",function(){n.currentRunnable=n.test;n.runTest(function(t){s=n.test;if(t){n.fail(s,t);n.emit("test end",s);return n.hookUp("afterEach",i)}s.state="passed";n.emit("pass",s);n.emit("test end",s);n.hookUp("afterEach",i)})})}this.next=i;i()};f.prototype.runSuite=function(t,e){var n=this.grepTotal(t),r=this,i=0;s("run suite %s",t.fullTitle());if(!n)return e();this.emit("suite",this.suite=t);function o(){var e=t.suites[i++];if(!e)return a();r.runSuite(e,o)}function a(){r.suite=t;r.hook("afterAll",function(){r.emit("suite end",t);e()})}this.hook("beforeAll",function(){r.runTests(t,o)})};f.prototype.uncaught=function(t){s("uncaught exception %s",t.message);var e=this.currentRunnable;if(!e||"failed"==e.state)return;e.clearTimeout();t.uncaught=true;this.fail(e,t);if("test"==e.type){this.emit("test end",e);this.hookUp("afterEach",this.next);return}this.emit("end")};f.prototype.run=function(t){var e=this,t=t||function(){};s("start");this.on("end",function(){s("end");process.removeListener("uncaughtException",function(t){e.uncaught(t)});t(e.failures)});this.emit("start");this.runSuite(this.suite,function(){s("finished running");e.emit("end")});process.on("uncaughtException",function(t){e.uncaught(t)});return this};function p(t,e){return a(e,function(e){var n=a(t,function(t){if(~t.indexOf("*"))return 0==e.indexOf(t.split("*")[0]);if(/^mocha-/.test(e))return true;return e==t});return n.length==0&&(!global.navigator||"onerror"!==e)})}});t.register("suite.js",function(t,e,n){var r=n("browser/events").EventEmitter,s=n("browser/debug")("mocha:suite"),i=n("./ms"),o=n("./utils"),a=n("./hook");e=t.exports=u;e.create=function(t,e){var n=new u(e,t.ctx);n.parent=t;if(t.pending)n.pending=true;e=n.fullTitle();t.addSuite(n);return n};function u(t,e){this.title=t;this.ctx=e;this.suites=[];this.tests=[];this.pending=false;this._beforeEach=[];this._beforeAll=[];this._afterEach=[];this._afterAll=[];this.root=!t;this._timeout=2e3;this._slow=75;this._bail=false}u.prototype=new r;u.prototype.constructor=u;u.prototype.clone=function(){var t=new u(this.title);s("clone");t.ctx=this.ctx;t.timeout(this.timeout());t.slow(this.slow());t.bail(this.bail());return t};u.prototype.timeout=function(t){if(0==arguments.length)return this._timeout;if("string"==typeof t)t=i(t);s("timeout %d",t);this._timeout=parseInt(t,10);return this};u.prototype.slow=function(t){if(0===arguments.length)return this._slow;if("string"==typeof t)t=i(t);s("slow %d",t);this._slow=t;return this};u.prototype.bail=function(t){if(0==arguments.length)return this._bail;s("bail %s",t);this._bail=t;return this};u.prototype.beforeAll=function(t){if(this.pending)return this;var e=new a('"before all" hook',t);e.parent=this;e.timeout(this.timeout());e.slow(this.slow());e.ctx=this.ctx;this._beforeAll.push(e);this.emit("beforeAll",e);return this};u.prototype.afterAll=function(t){if(this.pending)return this;var e=new a('"after all" hook',t);e.parent=this;e.timeout(this.timeout());e.slow(this.slow());e.ctx=this.ctx;this._afterAll.push(e);this.emit("afterAll",e);return this};u.prototype.beforeEach=function(t){if(this.pending)return this;var e=new a('"before each" hook',t);e.parent=this;e.timeout(this.timeout());e.slow(this.slow());e.ctx=this.ctx;this._beforeEach.push(e);this.emit("beforeEach",e);return this};u.prototype.afterEach=function(t){if(this.pending)return this;var e=new a('"after each" hook',t);e.parent=this;e.timeout(this.timeout());e.slow(this.slow());e.ctx=this.ctx;this._afterEach.push(e);this.emit("afterEach",e);return this};u.prototype.addSuite=function(t){t.parent=this;t.timeout(this.timeout());t.slow(this.slow());t.bail(this.bail());this.suites.push(t);this.emit("suite",t);return this};u.prototype.addTest=function(t){t.parent=this;t.timeout(this.timeout());t.slow(this.slow());t.ctx=this.ctx;this.tests.push(t);this.emit("test",t);return this};u.prototype.fullTitle=function(){if(this.parent){var t=this.parent.fullTitle();if(t)return t+" "+this.title}return this.title};u.prototype.total=function(){return o.reduce(this.suites,function(t,e){return t+e.total()},0)+this.tests.length};u.prototype.eachTest=function(t){o.forEach(this.tests,t);o.forEach(this.suites,function(e){e.eachTest(t)});return this}});t.register("test.js",function(t,e,n){var r=n("./runnable");t.exports=s;function s(t,e){r.call(this,t,e);this.pending=!e;this.type="test"}s.prototype=new r;s.prototype.constructor=s});t.register("utils.js",function(t,e,n){var r=n("browser/fs"),s=n("browser/path"),i=s.join,o=n("browser/debug")("mocha:watch");var a=["node_modules",".git"];e.escape=function(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};e.forEach=function(t,e,n){for(var r=0,s=t.length;r<s;r++)e.call(n,t[r],r)};e.indexOf=function(t,e,n){for(var r=n||0,s=t.length;r<s;r++){if(t[r]===e)return r}return-1};e.reduce=function(t,e,n){var r=n;for(var s=0,i=t.length;s<i;s++){r=e(r,t[s],s,t)}return r};e.filter=function(t,e){var n=[];for(var r=0,s=t.length;r<s;r++){var i=t[r];if(e(i,r,t))n.push(i)}return n};e.keys=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var r in t){if(n.call(t,r)){e.push(r)}}return e};e.watch=function(t,e){var n={interval:100};t.forEach(function(t){o("file %s",t);r.watchFile(t,n,function(n,r){if(r.mtime<n.mtime)e(t)})})};function u(t){return!~a.indexOf(t)}e.files=function(t,n){n=n||[];r.readdirSync(t).filter(u).forEach(function(s){s=i(t,s);if(r.statSync(s).isDirectory()){e.files(s,n)}else if(s.match(/\.(js|coffee)$/)){n.push(s)}});return n};e.slug=function(t){return t.toLowerCase().replace(/ +/g,"-").replace(/[^-\w]/g,"")};e.clean=function(t){t=t.replace(/^function *\(.*\) *{/,"").replace(/\s+\}$/,"");var n=t.match(/^\n?( *)/)[1].length,r=new RegExp("^ {"+n+"}","gm");t=t.replace(r,"");return e.trim(t)};e.escapeRegexp=function(t){return t.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")};e.trim=function(t){return t.replace(/^\s+|\s+$/g,"")};e.parseQuery=function(t){return e.reduce(t.replace("?","").split("&"),function(t,e){var n=e.indexOf("="),r=e.slice(0,n),s=e.slice(++n);t[r]=decodeURIComponent(s);return t},{})};function l(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\/\/(.*)/gm,'<span class="comment">//$1</span>').replace(/('.*?')/gm,'<span class="string">$1</span>').replace(/(\d+\.\d+)/gm,'<span class="number">$1</span>').replace(/(\d+)/gm,'<span class="number">$1</span>').replace(/\bnew *(\w+)/gm,'<span class="keyword">new</span> <span class="init">$1</span>').replace(/\b(function|new|throw|return|var|if|else)\b/gm,'<span class="keyword">$1</span>')}e.highlightTags=function(t){var e=document.getElementsByTagName(t);for(var n=0,r=e.length;n<r;++n){e[n].innerHTML=l(e[n].innerHTML)}}});process={};process.exit=function(t){};process.stdout={};global=window;process.nextTick=function(){if(window.ActiveXObject||!window.postMessage){return function(t){t()}}var t=[],e="mocha-zero-timeout";window.addEventListener("message",function(n){if(n.source==window&&n.data==e){if(n.stopPropagation)n.stopPropagation();if(t.length)t.shift()()}},true);return function(n){t.push(n);window.postMessage(e,"*")}}();process.removeListener=function(t){if("uncaughtException"==t){window.onerror=null}};process.on=function(t,e){if("uncaughtException"==t){window.onerror=function(t,n,r){e(new Error(t+" ("+n+":"+r+")"))}}};(function(){var e=window.Mocha=t("mocha"),n=window.mocha=new e({reporter:"html"});n.ui=function(t){e.prototype.ui.call(this,t);this.suite.emit("pre-require",window,null,this);return this};n.setup=function(t){if("string"==typeof t)t={ui:t};for(var e in t)this[e](t[e]);return this};n.run=function(t){var r=n.options;n.globals("location");var s=e.utils.parseQuery(window.location.search||"");if(s.grep)n.grep(s.grep);if(s.invert)n.invert();return e.prototype.run.call(n,function(){e.utils.highlightTags("code");if(t)t()})}})()})();