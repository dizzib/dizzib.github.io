(function(){define(["jquery","underscore","./environment","./helper","plugin/lib/ui/viewport"],function(t,e,r,n,u){return describe("Integration Test Suite",function(){t.fx.off=true;this.timeout(5e3);beforeEach(function(t){return r.enter(t)});afterEach(function(t){return r.exit(t)});describe("font persistance on reload",function(){it("should load first",function(){});return it("should reload with correct font",function(){n.add_trk(1);return t(".track .head").css("font-family").should.equal("helvetica")})});describe("populate",function(){return it("should setup and teardown",function(t){n.add_trk(1,"G(t1)");n.ins_trk(2,1,"G(t1+t2)");n.add_dev(10,1,[2,3],"G(T1:has(D10)+t2)");n.add_dev(11,1,[4,5],"G(T1:has(D10+D11)+t2)");n.tap(".track:first > .head");return e.defer(function(){n.rem_dev(10,"T1:has(D11)+G(t2)","!T1:has(D10)");n.rem_dev(11,"G(t1+t2)","!t2+t2","!t1:has(D11)");return t()})})});describe("tap rail",function(){return it("should set value min/max",function(t){n.add_trk(1);n.add_dev(10,1,[1]);n.tap(".track > .head");return e.defer(function(){n.tap(".sensor");return e.defer(function(){n.touch_start(".rail",0,".param[value=0]");n.touch_start(".rail",999,".param[value=100]");n.tap("#desk");return t()})})})});describe("drag puck",function(){return it("should set value to max",function(r){n.add_trk(1);n.add_dev(10,1,[1]);n.tap(".track > .head");return e.defer(function(){return e.defer(function(){var a,d;n.touch_start(".sensor",d=u.get_css_left(t(".sensor")));a=function(u){n.touch_move(".sensor",u+=20);return e.defer(function(){var d;d=t(".param").attr("value");if(d===100){n.tap("#desk");return r()}else{return e.delay(function(){return a(u)},100)}})};return a(d)})})})});return describe("volume",function(){return it("should run quickly",function(t){var r,u,a,d;for(u=a=1;a<=24;u=++a){n.add_trk(u);for(r=d=1;d<=8;r=++d){n.add_dev(r+u*10,u,[1,2,3,4])}}n.tap(".track:first > .head, .track:last > .head");return e.defer(function(){return t()})})})})})}).call(this);