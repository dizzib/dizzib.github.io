(function(){var a,b=function(a,b){return function(){return a.apply(b,arguments)}};a=new(function(){function a(){this._run_test=b(this._run_test,this),this._load_test=b(this._load_test,this),this._load_plugin_lib=b(this._load_plugin_lib,this),this._wire_plugin=b(this._wire_plugin,this),this._wire_app=b(this._wire_app,this),this.boot=b(this.boot,this)}return a.prototype.fail=function(a){return console.log("FAIL: ",a.message)},a.prototype.boot=function(){var a=this;return curl(["plugin/_test/test.boot"],function(b){return(a._test_booter=b).load_app_lib(a._wire_app)})},a.prototype._wire_app=function(a){return curl("wire!app.wire").then(this._wire_plugin,this.fail)},a.prototype._wire_plugin=function(a){return console.log("wire plugin",this._app=a),a.sys_msg_engine.load=this._load_test,a.view_surface.show(),a.controller_surface._wire_child().then(this._load_plugin_lib,this.fail)},a.prototype._load_plugin_lib=function(a){return this._plugin=a,this._test_booter.load_plugin_lib()},a.prototype._load_test=function(){return console.log("load test"),curl(["plugin/_test/integration"],this._run_test,this.fail)},a.prototype._run_test=function(a){return console.log("run test",a),a.run(this._app,this._plugin)},a}()),a.boot()}).call(this);