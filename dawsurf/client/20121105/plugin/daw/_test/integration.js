(function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};define(["jquery"],function(b){var c;return new(c=function(){function c(){this._ins_trk=a(this._ins_trk,this),this._assert=a(this._assert,this),this._args_trk=a(this._args_trk,this),this._add_trk=a(this._add_trk,this),this.run=a(this.run,this)}return c.prototype.run=function(a,b){var c=this;return this._folder=a.sys_msg_entity_folder,module("integration"),test("build and destroy",function(){return c._add_trk(1),c._assert("T1"),c._ins_trk(2,1),c._assert("T2")})},c.prototype._add_trk=function(a){return this._folder.add(this._args_trk(a,0))},c.prototype._args=function(a,b,c,d){var e;return d==null&&(d=""+b+"_"+a),e={uid:a},b!=null&&(e.category=b),d!=null&&(e.name=d),c!=null&&(e.target_uid=c),e},c.prototype._args_trk=function(a,b){return this._args(a,"track",b)},c.prototype._assert=function(a){return equal(b(this._sel(a)).length,1)},c.prototype._ins_trk=function(a,b){return this._folder.insert(this._args_trk(a,b))},c.prototype._sel=function(a){return a=a.replace(/T(\d)/g,"#$1.track"),a},c}())})}).call(this);