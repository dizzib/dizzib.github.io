(function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};define(["jquery","underscore","./track.devices","lib/guardian","css!./tracks"],function(b,c,d){var e;return new(e=function(){function e(){this._find=a(this._find,this),this.set_width_root=a(this.set_width_root,this),this.get_width=a(this.get_width,this),this.get_width_root=a(this.get_width_root,this),this.get_volumes=a(this.get_volumes,this),this.get_last=a(this.get_last,this),this.get_first=a(this.get_first,this),this.get_expanded=a(this.get_expanded,this),this.kill=a(this.kill,this),this.init=a(this.init,this)}return e.prototype.init=function(a){return this._$tracks=b(b.zen("#tracks")).appendTo(a.$desk),this.on_init(a)},e.prototype.kill=function(){return this._$tracks.remove()},e.prototype.on_init=function(){},e.prototype.append=function(a){return a.appendTo(this._$tracks)},e.prototype.get_height_fixed=function(a){return a.find("> .head").height()+a.find("> .foot").height()},e.prototype.get_expanded=function(){return this._find("> .track")},e.prototype.get_first=function(){return this._find("> *:first")},e.prototype.get_last=function(){return this._find("> *:last")},e.prototype.get_volumes=function(){var a,c,e,f,g,h,i,j,k;j=[[],0],g=j[0],c=j[1],k=this.get_expanded();for(h=0,i=k.length;h<i;h++)e=k[h],g.push([a=b(e),f=d.get_volume(a)]),c+=f;return[g,c]},e.prototype.get_width_root=function(){return this._$tracks.width()},e.prototype.get_width=function(){return c.reduce(this.get_expanded(),function(a,c){return a+b(c).outerWidth(!0)},0)},e.prototype.prepend=function(a){return a.prependTo(this._$tracks)},e.prototype.set_width_root=function(a){return this._$tracks.width(a)},e.prototype._find=function(a){return this._$tracks.find(a)},e}())})}).call(this);