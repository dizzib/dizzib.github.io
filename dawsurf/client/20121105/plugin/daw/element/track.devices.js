(function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};define(["jquery","./box"],function(b,c){var d;return new(d=function(){function b(){this.get_volume=a(this.get_volume,this),this.remove=a(this.remove,this),this.add=a(this.add,this)}return b.prototype.on_init=function(){},b.prototype.on_kill=function(){},b.prototype.add=function(a){if(this._is_sole_device(a))return this.on_init(this._get_track(a))},b.prototype.remove=function(a){if(this._is_sole_device(a))return this.on_kill(this._get_track(a))},b.prototype.get_volume=function(a){return c.get_volume(this._get_visible(a))},b.prototype._get_track=function(a){return a.$device.parents(".track")},b.prototype._is_sole_device=function(a){return a.$device.siblings(".device").length===0},b.prototype._get_visible=function(a){return a.find(".device:not(.hidden)")},b}())})}).call(this);