(function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};define(["sys/messaging/entity/folder","sys/messaging/entity/param"],function(b,c){var d;return d=function(){function d(){this.handshake=a(this.handshake,this),this.COMMANDS={FA:b.add,FC:b.clear,FI:b.insert,FM:b.move,FR:b.ready,FX:b.remove,FN:b.rename,PA:c.add,PN:c.rename,PV:c.revalue,XP:this.handshake}}return d.prototype._VERSION="B2",d.prototype.TRIGGERS={BANG:"BA",PARAM_UPDATE:"PU",PROTOCOL_PROBE:"XP"},d.prototype.on_handshake_fail=function(){},d.prototype.on_handshake_pass=function(){},d.prototype.handshake=function(a){return assert(function(){return a.version})===this._VERSION?this.on_handshake_pass():this.on_handshake_fail({message:"Unable to start because this app uses message protocol "+this._VERSION+"										but the server uses "+a.version+". Please update this app and/or the server to										compatible versions."})},d}(),new d})}).call(this);