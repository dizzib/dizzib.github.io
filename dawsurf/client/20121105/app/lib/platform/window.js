(function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};define(["jquery","underscore","lib/platform/document","lib/platform/window.zoom-sensor.strategy/constants","lib/platform/window.zoom-sensor.strategy/aspect-ratio","lib/platform/window.zoom-sensor.strategy/reference-div"],function(b,c,d,e,f,g){var h;return h=function(){function h(){this._refresh_cache=a(this._refresh_cache,this),this._resize_or_zoom=a(this._resize_or_zoom,this),this._init=a(this._init,this),this.get_aspect_ratio=a(this.get_aspect_ratio,this),this.init=a(this.init,this)}return h.prototype._THROTTLE_FREQ_HZ=2,h.prototype.init=function(){var a=this;return this._refresh_cache(),this._zoom_sensor=d.height_raw()!=null?g:f,this._zoom_sensor.init(this),b(window).on("resize",function(){return c.throttle(a._resize_or_zoom(),1e3/a._THROTTLE_FREQ_HZ,!1)}),b(window).on("onorientationchange",function(){return b(window).trigger("resize")})},h.prototype.on_resize=function(){},h.prototype.on_zoom=function(){},h.prototype.get_aspect_ratio=function(){return this.width/this.height},h.prototype.reload=function(){return window.location.href=window.location.href},h.prototype._init=function(){return this._event_map={},this._event_map[e.Directions.NONE]={fn:this.on_resize,args:{window:this}},this._event_map[e.Directions.IN]={fn:this.on_zoom,args:{window:this,is_zoom_out:!1}},this._event_map[e.Directions.OUT]={fn:this.on_zoom,args:{window:this,is_zoom_out:!0}}},h.prototype._resize_or_zoom=function(){var a;return this._event_map==null&&this._init(),this._refresh_cache(),(a=this._event_map[this._zoom_sensor.get_direction()]).fn(a.args)},h.prototype._refresh_cache=function(){return this.height=window.innerHeight,this.width=window.innerWidth},h}(),new h})}).call(this);