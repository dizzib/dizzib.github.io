(function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};define(["knockout","knockout.mapping","lib/platform/features"],function(b,c,d){var e,f;return e=function(){function a(a,c,d){a==null&&(a=""),c==null&&(c=""),d==null&&(d="8080"),this.id=b.observable(a),this.server=b.observable(c),this.port=b.observable(d)}return a}(),f=function(){function f(){this.save=a(this.save,this),this.load=a(this.load,this),this.remove=a(this.remove,this),this.add=a(this.add,this)}return f.prototype._store_key="model.servers",f.prototype.servers=b.observableArray([]),f.prototype.auto_connect_id=b.observable(null),f.prototype.create=function(){return new e},f.prototype.add=function(a){return this.servers.push(a)},f.prototype.remove=function(a){return this.servers.remove(a)},f.prototype.load=function(){var a,b,e,f,g,h;if(!d.localstorage)return;if((b=localStorage[this._store_key])==null)return;a=c.fromJSON(b),this.servers.remove(function(){return!0}),h=a.servers();for(f=0,g=h.length;f<g;f++)e=h[f],this.servers.push(e);return this.auto_connect_id(a.auto_connect_id())},f.prototype.save=function(){if(!d.localstorage)return;return localStorage[this._store_key]=c.toJSON(this)},f}(),new f})}).call(this);