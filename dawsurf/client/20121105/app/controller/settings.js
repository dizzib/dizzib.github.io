(function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};define(["underscore","knockout","model/settings","lib/platform/features"],function(b,c,d,e){var f;return new(f=function(){function f(){this.init=a(this.init,this)}return f.prototype.init=function(){var a,b,c,e,f;e=d.settings,f=[];for(b=0,c=e.length;b<c;b++)a=e[b],f.push(this.load(a));return f},f.prototype.load=function(a){var d,f,g,h=this;(g=f=a).value==null&&(g.value=c.observable(null)),f.value(f.value_default()),f.is_bool=b.isBoolean(f.value()),f.is_string=b.isString(f.value()),f.value_display=c.computed(function(){return h._get_value_display(f)});if(!e.localstorage)return;if((d=localStorage[f.store_key])==null)return;return f.value(JSON.parse(d))},f.prototype.save=function(a){if(!e.localstorage)return;return localStorage[a.store_key]=JSON.stringify(a.value())},f.prototype._get_value_display=function(a){var b,c;switch(!1){case!a.is_bool:return a.value()?(b=a.value_display_true)!=null?b:"yes":(c=a.value_display_false)!=null?c:"no";default:return a.value()}},f}())})}).call(this);