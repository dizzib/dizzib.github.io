(function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};define(function(){var b;return b=function(){function b(){this._unblock=a(this._unblock,this),this._block=a(this._block,this),this._start=a(this._start,this),this.packet_in=a(this.packet_in,this),this.packet_out=a(this.packet_out,this)}return b.prototype._SAMPLE_FREQ_HZ=1,b.prototype.on_measure=function(){},b.prototype.packet_out=function(){if(this._start_time!=null||this._is_block)return;return this._start(),this._block()},b.prototype.packet_in=function(){var a;if(this._start_time==null)return;return a=(new Date).getTime(),this.on_measure("Net latency "+(a-this._start_time)+"ms"),this._start_time=void 0},b.prototype._start=function(){return this._start_time=(new Date).getTime()},b.prototype._block=function(){return this._is_block=!0,setTimeout(this._unblock,1e3/this._SAMPLE_FREQ_HZ)},b.prototype._unblock=function(){return this._is_block=!1},b}(),new b})}).call(this);