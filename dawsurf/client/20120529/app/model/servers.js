(function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};define(["knockout","lib/platform/features"],function(b,c){var d,e;return d=function(){function a(a,c,d){a==null&&(a=""),c==null&&(c=""),d==null&&(d=""),this.id=b.observable(a),this.server=b.observable(c),this.port=b.observable(d)}return a}(),e=function(){function e(){this.save=a(this.save,this),this.load=a(this.load,this),this.remove=a(this.remove,this),this.add=a(this.add,this)}return e.prototype._store_key="model.servers",e.prototype.servers=b.observableArray([]),e.prototype.auto_connect_id=b.observable(null),e.prototype.create=function(){return new d},e.prototype.add=function(a){return this.servers.push(a)},e.prototype.remove=function(a){return this.servers.remove(a)},e.prototype.load=function(){var a,d,e,f,g,h;if(!c.localstorage)return;if((d=localStorage[this._store_key])==null)return;a=b.mapping.fromJSON(d),this.servers.remove(function(){return!0}),h=a.servers();for(f=0,g=h.length;f<g;f++)e=h[f],this.servers.push(e);return this.auto_connect_id(a.auto_connect_id())},e.prototype.save=function(){if(!c.localstorage)return;return localStorage[this._store_key]=b.mapping.toJSON(this)},e}(),new e})}).call(this);