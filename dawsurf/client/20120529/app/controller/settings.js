(function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};define(["underscore","knockout","model/settings","lib/platform/features"],function(b,c,d,e){var f;return f=function(){function f(){this.init=a(this.init,this)}return f.prototype.init=function(){var a,b,c,e,f;e=d.settings,f=[];for(b=0,c=e.length;b<c;b++)a=e[b],f.push(this.load(a));return f},f.prototype.load=function(a){var d,f;(f=a).value===void 0&&(f.value=c.observable(null)),f.value(f.value_default()),f.is_bool=b.isBoolean(f.value()),f.is_string=b.isString(f.value()),f.value_display===void 0&&(f.value_display=c.computed(function(){return f.is_bool?f.value()?"Yes":"No":f.value()}));if(!e.localstorage)return;if((d=localStorage[f.store_key])==null)return;return f.value(JSON.parse(d))},f.prototype.save=function(a){if(!e.localstorage)return;return localStorage[a.store_key]=JSON.stringify(a.value())},f}(),new f})}).call(this);