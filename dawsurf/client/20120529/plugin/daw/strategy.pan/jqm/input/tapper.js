(function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};define(["jquery","plugin/element/desk","plugin/strategy.pan/jqm/element/desk.panner","strategy/touch","lib/guardian"],function(b,c,d,e){var f;return f=function(){function c(){this.set_was_pan_rolling=a(this.set_was_pan_rolling,this),this.kill=a(this.kill,this),this.init=a(this.init,this)}return c.prototype._MOVE_THRESHOLD=10,c.prototype.init=function(c){return(this._$desk=assert(function(){return c!=null?c.$desk:void 0})).on(e.event_name_start,a(function(){return this._pan_pos_from=d.get_pan_pos(),this._was_pan_rolling=!1,!0},this)),this._$desk.on("click",a(function(a){var c,e,f,g,h;return g=d.get_pan_pos(),h=[Math.abs(this._pan_pos_from.x-g.x),Math.abs(this._pan_pos_from.y-g.y)],e=h[0],f=h[1],(c=Math.sqrt(e*e+f*f))<this._MOVE_THRESHOLD&&b(a.target).trigger("safe-tap",[this._was_pan_rolling]),this._was_pan_rolling=!1,!0},this))},c.prototype.kill=function(){return this._$desk.off(e.event_name_start),this._$desk.off("click")},c.prototype.set_was_pan_rolling=function(){return this._was_pan_rolling=!0},c}(),new f})}).call(this);