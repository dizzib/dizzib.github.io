(function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};define(["jquery","underscore","lib/guardian","css!./toolbar"],function(b,c){var d;return d=function(){function d(){this._destroy_keyboard_shortcuts=a(this._destroy_keyboard_shortcuts,this),this._create_keyboard_shortcuts=a(this._create_keyboard_shortcuts,this),this._create_tools=a(this._create_tools,this),this.kill=a(this.kill,this),this.init=a(this.init,this)}return d.prototype._key_mappings=[{keycode:b.ui.keyCode.ESCAPE,fn:"on_close"},{keycode:b.ui.keyCode.SPACE,fn:"toggle"}],d.prototype.init=function(){return b("<div/>").attr({id:"toolbar"}).appendTo(this._div_root),this._create_tools(),this._create_keyboard_shortcuts(),this.on_growl("Press ESC to return to homepage")},d.prototype.kill=function(){return b("#toolbar").remove(),this._destroy_keyboard_shortcuts()},d.prototype.on_close=function(){},d.prototype.on_growl=function(){},d.prototype.toggle=function(){return b("#toolbar").toggle()},d.prototype._create_tools=function(){return b("<div>Exit</div>").attr({"class":"tool"}).appendTo(b("#toolbar")).on("click",a(function(){return this.on_close()},this))},d.prototype._create_keyboard_shortcuts=function(){return b(document).on("keydown",a(function(a){var b;if((b=c.find(this._key_mappings,function(b){return a.which===b.keycode}))==null)return;return this[b.fn](),a.preventDefault()},this))},d.prototype._destroy_keyboard_shortcuts=function(){return b(document).off("keydown")},d}(),new d})}).call(this);