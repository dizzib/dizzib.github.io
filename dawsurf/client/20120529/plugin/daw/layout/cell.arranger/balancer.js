(function(){define(["underscore","lib/guardian"],function(a){var b;return b=function(){function b(){}return b.prototype.balance=function(b){var c,d,e,f,g,h;f=function(){var a,d,e;e=[];for(a=0,d=b.length;a<d;a++)c=b[a],e.push(c.matrix.length);return e}(),e=a.max(f);for(g=0,h=b.length;g<h;g++){c=b[g];while(c.matrix.length<e)c.matrix.push(function(){var a,b;b=[];for(d=1,a=c.x_size;1<=a?d<=a:d>=a;1<=a?d++:d--)b.push(0);return b}())}return b},b}(),new b})}).call(this);